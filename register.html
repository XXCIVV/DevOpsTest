<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ลงทะเบียน - Buy me only</title>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>

<div class="register-container"> <!-- Container สำหรับ Register -->
    <img src="../assets/logo-image.png" alt="Buy me only">
    <h2>ลงทะเบียน</h2>
    <div id="register-error-message" class="error"></div>
    <input type="text" id="name" name="name" placeholder="Name" required>
    <input type="text" id="new-username" placeholder="Username" required>
    <input type="password" id="new-password" placeholder="Password" required>
    <input type="password" id="confirm-password" placeholder="ยืนยันรหัสผ่าน" required>
    <button onclick="register()">ลงทะเบียน</button>
</div>

<script>
    function validateUsername(username) {
        const usernameRegex = /^[a-z]{10,24}$/;
        return usernameRegex.test(username);
    }

    function validatePassword(password) {
        const passwordRegex = /^(?=.*[A-Z])(?=.*[0-9])(?=.*[\W_]).{16,32}$/;
        return passwordRegex.test(password);
    }

    function register() {
        const username = document.getElementById('new-username').value;
        const password = document.getElementById('new-password').value;
        const confirmPassword = document.getElementById('confirm-password').value;
        const errorMessage = document.getElementById('register-error-message');

        if (!validateUsername(username)) {
            errorMessage.textContent = "Username ต้องมีความยาว 10-24 ตัวอักษร a-z เท่านั้น";
            return;
        }

        if (!validatePassword(password)) {
            errorMessage.textContent = "Password ต้องมีความยาว 16-32 ตัวอักษร ประกอบด้วยพิมพ์ใหญ่, ตัวเลข และอักขระพิเศษ";
            return;
        }

        if (password !== confirmPassword) {
            errorMessage.textContent = "รหัสผ่านไม่ตรงกัน";
            return;
        }

        alert("ลงทะเบียนสำเร็จ");
        // Here you could add further actions after successful registration, e.g., redirecting to another page
    }

    // เคลียร์ข้อความผิดพลาดเมื่อคลิกใน input
    document.getElementById('new-username').addEventListener('focus', () => {
        document.getElementById('register-error-message').textContent = '';
    });
    document.getElementById('new-password').addEventListener('focus', () => {
        document.getElementById('register-error-message').textContent = '';
    });
    document.getElementById('confirm-password').addEventListener('focus', () => {
        document.getElementById('register-error-message').textContent = '';
    });

</script>

</body>
</html>